<!DOCTYPE html>
<html>
  <head>
    <!--Stylesheet-->
    <link rel = "stylesheet" type = "text/css" href = "../stylesheets/indexStyle.css">

    <!--Google Font-->
    <link href="https://fonts.googleapis.com/css?family=Antic+Slab|Bree+Serif|Comfortaa|Merriweather&display=swap" rel="stylesheet">
    <!--JQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <!--Media Queries-->
    <meta content="width=device-width, initial-scale=1" name="viewport" />


    <!--Descriptions-->
    <title>jamesostergaard.com</title>
    <meta name="Description" content="Portfolio for James Ostergaard.">
    <link rel="shortcut icon" type="image/png" href="favicon.ico"/>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  </head>


  <body>
    <div class="base">
      <div class="about">
        <a href="http://jamesostergaard.com" id="title">James Ostergaard</a>
        <hl>
        <a href="#" id="projectTitle" target="_blank">List</a>
      </div>
      <div class="projects">

        <div class="description">
          List is a finance visualization tool for college students
          <br>
          Its purpose is to visualize proportion cost of a list of items within a set budget.
          <br>
          The goal of this project is to allow people to make their own insights about how they spend money.
          <div id="charts" style="overflow-x:auto;">
            <div class="controls" style="Display: inline-block;">
              <input type="button" value="x" id="clear" style="border-radius: 50%;">
              <input type="button" value=">" id="submit" style="border-radius: 50%;">
              <input id="add" type="button" value="+" style="border-radius: 50%;">
            </div>
            <br>
            <form id="f" onsubmit="return false;">
              Budget
              <br>
              <input name="budget" style="border-radius: 25%;">
              <br>
              Items - Prices
              <br>
              (add more than one item)
              <br>
            </form>
          </div>
          <script type="text/javascript">

          $(document).ready(function() {

            var inputID = 0;

            $("#clear").click(function(){
              $("#f").empty();
              $("#f").append("Budget<br><input name=\"budget\"></input><br>Items - Prices<br>(add more than one item)<br>");
            });

            $(".remove").on("click", (function(){
              console.log(this.id);
              $( "#f" ).remove(this.id);
            }));

            function removeFunction(){
              console.log(this.id);
              $( "#f" ).remove(this.id);
            }


            //Add to Form
            $("#add").click(function(){
              $("#f").append("<div class=\"temp\"><input name=\"item\" style=\"border-radius: 25%;\"></input><input name=\"price\" style=\"border-radius: 25%;\"></input> <input class=\"remove\" type=\"button\" value=\"x\" onclick=\"removeFunction\" style=\"border-radius: 50%;\"></div><br>");
              $(".temp > .remove").attr('id', inputID.toString());
               $(".temp").addClass(inputID.toString()).removeClass("temp");
              inputID++;
            });


            //Parse Form Values
            $("#submit").click(function(){

              var x = $("#f");

              var i;
              var a = new Array();
              var temp = new Array();
              var budget = x[0].budget.value;
              var remaining = budget;
              for (i = 0; i < x[0].item.length ;i++) {
                  temp.push(x[0].item[i].value);
                  temp.push(x[0].price[i].value);
                  a.push(temp);
                  remaining = remaining - x[0].price[i].value;
                  temp = new Array();
                }

              var d;
              for (d=0;d<a.length;d++){
                console.log(a[d]);
              }
            });
        });

          </script>

              <!--D3 Load-->
              <script src="https://d3js.org/d3.v5.min.js"></script>
          <svg class="chart"></svg>
          <script>

          var data = [{
                "name": "Apples",
                "value": 20,
        },
            {
                "name": "Bananas",
                "value": 12,
        },
            {
                "name": "Grapes",
                "value": 19,
        },
            {
                "name": "Lemons",
                "value": 5,
        },
            {
                "name": "Limes",
                "value": 16,
        },
            {
                "name": "Oranges",
                "value": 26,
        },
            {
                "name": "Pears",
                "value": 30,
        }];

        //sort bars based on value
        data = data.sort(function (a, b) {
            return d3.ascending(a.value, b.value);
        })

        //set up svg using margin conventions - we'll need plenty of room on the left for labels
        var margin = {
            top: 15,
            right: 25,
            bottom: 15,
            left: 60
        };

        var width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;

        var svg = d3.select("#graphic").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var x = d3.scale.linear()
            .range([0, width])
            .domain([0, d3.max(data, function (d) {
                return d.value;
            })]);

        var y = d3.scale.ordinal()
            .rangeRoundBands([height, 0], .1)
            .domain(data.map(function (d) {
                return d.name;
            }));

        //make y axis to show bar names
        var yAxis = d3.svg.axis()
            .scale(y)
            //no tick marks
            .tickSize(0)
            .orient("left");

        var gy = svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)

        var bars = svg.selectAll(".bar")
            .data(data)
            .enter()
            .append("g")

        //append rects
        bars.append("rect")
            .attr("class", "bar")
            .attr("y", function (d) {
                return y(d.name);
            })
            .attr("height", y.rangeBand())
            .attr("x", 0)
            .attr("width", function (d) {
                return x(d.value);
            });

        //add a value label to the right of each bar
        bars.append("text")
            .attr("class", "label")
            //y position of the label is halfway down the bar
            .attr("y", function (d) {
                return y(d.name) + y.rangeBand() / 2 + 4;
            })
            //x position is 3 pixels to the right of the bar
            .attr("x", function (d) {
                return x(d.value) + 3;
            })
            .text(function (d) {
                return d.value;
            });

  </script>


        </div>

      </div>

  </div>
  </body>
</html>
